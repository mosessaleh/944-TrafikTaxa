"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/bookings/update/route";
exports.ids = ["app/api/admin/bookings/update/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fbookings%2Fupdate%2Froute&page=%2Fapi%2Fadmin%2Fbookings%2Fupdate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fbookings%2Fupdate%2Froute.ts&appDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944%20Trafik%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944%20Trafik&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fbookings%2Fupdate%2Froute&page=%2Fapi%2Fadmin%2Fbookings%2Fupdate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fbookings%2Fupdate%2Froute.ts&appDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944%20Trafik%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944%20Trafik&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_moses_Projects_Websites_944_Trafik_app_api_admin_bookings_update_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/bookings/update/route.ts */ \"(rsc)/./app/api/admin/bookings/update/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/bookings/update/route\",\n        pathname: \"/api/admin/bookings/update\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/bookings/update/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\moses\\\\Projects\\\\Websites\\\\944 Trafik\\\\app\\\\api\\\\admin\\\\bookings\\\\update\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_moses_Projects_Websites_944_Trafik_app_api_admin_bookings_update_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/admin/bookings/update/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRmJvb2tpbmdzJTJGdXBkYXRlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhZG1pbiUyRmJvb2tpbmdzJTJGdXBkYXRlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYWRtaW4lMkZib29raW5ncyUyRnVwZGF0ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNtb3NlcyU1Q1Byb2plY3RzJTVDV2Vic2l0ZXMlNUM5NDQlMjBUcmFmaWslNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q21vc2VzJTVDUHJvamVjdHMlNUNXZWJzaXRlcyU1Qzk0NCUyMFRyYWZpayZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDNkM7QUFDMUg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly85NDQtdHJhZmlrLz8yZDJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXG1vc2VzXFxcXFByb2plY3RzXFxcXFdlYnNpdGVzXFxcXDk0NCBUcmFmaWtcXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxib29raW5nc1xcXFx1cGRhdGVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FkbWluL2Jvb2tpbmdzL3VwZGF0ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FkbWluL2Jvb2tpbmdzL3VwZGF0ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWRtaW4vYm9va2luZ3MvdXBkYXRlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcbW9zZXNcXFxcUHJvamVjdHNcXFxcV2Vic2l0ZXNcXFxcOTQ0IFRyYWZpa1xcXFxhcHBcXFxcYXBpXFxcXGFkbWluXFxcXGJvb2tpbmdzXFxcXHVwZGF0ZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYWRtaW4vYm9va2luZ3MvdXBkYXRlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fbookings%2Fupdate%2Froute&page=%2Fapi%2Fadmin%2Fbookings%2Fupdate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fbookings%2Fupdate%2Froute.ts&appDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944%20Trafik%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944%20Trafik&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/admin/bookings/update/route.ts":
/*!************************************************!*\
  !*** ./app/api/admin/bookings/update/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _lib_email__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/email */ \"(rsc)/./lib/email.ts\");\n\n\n\n\nconst Schema = zod__WEBPACK_IMPORTED_MODULE_3__.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_3__.number().int(),\n    action: zod__WEBPACK_IMPORTED_MODULE_3__[\"enum\"]([\n        \"CONFIRM\",\n        \"DISPATCH\",\n        \"START\",\n        \"COMPLETE\",\n        \"CANCEL\",\n        \"MARK_PAID\"\n    ])\n});\nasync function POST(req) {\n    try {\n        const { id, action } = Schema.parse(await req.json());\n        const ride = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.ride.findUnique({\n            where: {\n                id\n            },\n            include: {\n                user: true\n            }\n        });\n        if (!ride) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: \"Ride not found\"\n        }, {\n            status: 404\n        });\n        let data = {};\n        if (action === \"CONFIRM\") data.status = \"CONFIRMED\";\n        if (action === \"DISPATCH\") data.status = \"DISPATCHED\";\n        if (action === \"START\") data.status = \"ONGOING\";\n        if (action === \"COMPLETE\") data.status = \"COMPLETED\";\n        if (action === \"CANCEL\") data.status = \"CANCELED\";\n        if (action === \"MARK_PAID\") data.paid = true;\n        const updated = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.ride.update({\n            where: {\n                id\n            },\n            data\n        });\n        // Email user on key actions\n        const email = ride.user.email;\n        const fmt = new Date(ride.pickupTime).toLocaleString();\n        try {\n            if (action === \"CONFIRM\") await (0,_lib_email__WEBPACK_IMPORTED_MODULE_2__.sendEmail)(email, \"Your booking is confirmed\", `<p>Your ride #${ride.id} is confirmed for ${fmt}.</p>`);\n            if (action === \"DISPATCH\") await (0,_lib_email__WEBPACK_IMPORTED_MODULE_2__.sendEmail)(email, \"Your car is on the way\", `<p>Your ride #${ride.id} has been dispatched. The car is on the way.</p>`);\n            if (action === \"COMPLETE\") await (0,_lib_email__WEBPACK_IMPORTED_MODULE_2__.sendEmail)(email, \"Your ride is completed\", `<p>Your ride #${ride.id} is completed. Thank you!</p>`);\n            if (action === \"CANCEL\") await (0,_lib_email__WEBPACK_IMPORTED_MODULE_2__.sendEmail)(email, \"Your booking was canceled\", `<p>Your ride #${ride.id} has been canceled.</p>`);\n        } catch (e) {\n            console.warn(\"[mail] admin update email failed\", e);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: true,\n            ride: updated\n        });\n    } catch (e) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: e?.message || \"Invalid\"\n        }, {\n            status: 400\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL2Jvb2tpbmdzL3VwZGF0ZS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEwQztBQUNuQjtBQUNVO0FBQ007QUFFdkMsTUFBTUksU0FBU0gsdUNBQVEsQ0FBQztJQUFFSyxJQUFJTCx1Q0FBUSxHQUFHTyxHQUFHO0lBQUlDLFFBQVFSLHdDQUFNLENBQUM7UUFBQztRQUFVO1FBQVc7UUFBUTtRQUFXO1FBQVM7S0FBWTtBQUFFO0FBRXhILGVBQWVVLEtBQUtDLEdBQVk7SUFDckMsSUFBRztRQUNELE1BQU0sRUFBRU4sRUFBRSxFQUFFRyxNQUFNLEVBQUUsR0FBR0wsT0FBT1MsS0FBSyxDQUFDLE1BQU1ELElBQUlFLElBQUk7UUFDbEQsTUFBTUMsT0FBTyxNQUFNYiwyQ0FBTUEsQ0FBQ2EsSUFBSSxDQUFDQyxVQUFVLENBQUM7WUFBRUMsT0FBTTtnQkFBRVg7WUFBRztZQUFHWSxTQUFRO2dCQUFFQyxNQUFLO1lBQUs7UUFBRTtRQUNoRixJQUFJLENBQUNKLE1BQU0sT0FBT2YscURBQVlBLENBQUNjLElBQUksQ0FBQztZQUFFTSxJQUFHO1lBQU9DLE9BQU07UUFBaUIsR0FBRTtZQUFFQyxRQUFPO1FBQUk7UUFFdEYsSUFBSUMsT0FBVyxDQUFDO1FBQ2hCLElBQUlkLFdBQVMsV0FBV2MsS0FBS0QsTUFBTSxHQUFDO1FBQ3BDLElBQUliLFdBQVMsWUFBWWMsS0FBS0QsTUFBTSxHQUFDO1FBQ3JDLElBQUliLFdBQVMsU0FBU2MsS0FBS0QsTUFBTSxHQUFDO1FBQ2xDLElBQUliLFdBQVMsWUFBWWMsS0FBS0QsTUFBTSxHQUFDO1FBQ3JDLElBQUliLFdBQVMsVUFBVWMsS0FBS0QsTUFBTSxHQUFDO1FBQ25DLElBQUliLFdBQVMsYUFBYWMsS0FBS0MsSUFBSSxHQUFDO1FBRXBDLE1BQU1DLFVBQVUsTUFBTXZCLDJDQUFNQSxDQUFDYSxJQUFJLENBQUNXLE1BQU0sQ0FBQztZQUFFVCxPQUFNO2dCQUFFWDtZQUFHO1lBQUdpQjtRQUFLO1FBRTlELDRCQUE0QjtRQUM1QixNQUFNSSxRQUFRWixLQUFLSSxJQUFJLENBQUNRLEtBQUs7UUFDN0IsTUFBTUMsTUFBTSxJQUFJQyxLQUFLZCxLQUFLZSxVQUFVLEVBQUVDLGNBQWM7UUFDcEQsSUFBRztZQUNELElBQUl0QixXQUFTLFdBQVcsTUFBTU4scURBQVNBLENBQUN3QixPQUFNLDZCQUE0QixDQUFDLGNBQWMsRUFBRVosS0FBS1QsRUFBRSxDQUFDLGtCQUFrQixFQUFFc0IsSUFBSSxLQUFLLENBQUM7WUFDakksSUFBSW5CLFdBQVMsWUFBWSxNQUFNTixxREFBU0EsQ0FBQ3dCLE9BQU0sMEJBQXlCLENBQUMsY0FBYyxFQUFFWixLQUFLVCxFQUFFLENBQUMsZ0RBQWdELENBQUM7WUFDbEosSUFBSUcsV0FBUyxZQUFZLE1BQU1OLHFEQUFTQSxDQUFDd0IsT0FBTSwwQkFBeUIsQ0FBQyxjQUFjLEVBQUVaLEtBQUtULEVBQUUsQ0FBQyw2QkFBNkIsQ0FBQztZQUMvSCxJQUFJRyxXQUFTLFVBQVUsTUFBTU4scURBQVNBLENBQUN3QixPQUFNLDZCQUE0QixDQUFDLGNBQWMsRUFBRVosS0FBS1QsRUFBRSxDQUFDLHVCQUF1QixDQUFDO1FBQzVILEVBQUMsT0FBTTBCLEdBQUU7WUFBRUMsUUFBUUMsSUFBSSxDQUFDLG9DQUFvQ0Y7UUFBRztRQUUvRCxPQUFPaEMscURBQVlBLENBQUNjLElBQUksQ0FBQztZQUFFTSxJQUFHO1lBQU1MLE1BQU1VO1FBQVE7SUFDcEQsRUFBQyxPQUFNTyxHQUFNO1FBQ1gsT0FBT2hDLHFEQUFZQSxDQUFDYyxJQUFJLENBQUM7WUFBRU0sSUFBRztZQUFPQyxPQUFPVyxHQUFHRyxXQUFTO1FBQVUsR0FBRTtZQUFFYixRQUFPO1FBQUk7SUFDbkY7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovLzk0NC10cmFmaWsvLi9hcHAvYXBpL2FkbWluL2Jvb2tpbmdzL3VwZGF0ZS9yb3V0ZS50cz9hMGEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJ0AvbGliL2RiJ1xuaW1wb3J0IHsgc2VuZEVtYWlsIH0gZnJvbSAnQC9saWIvZW1haWwnXG5cbmNvbnN0IFNjaGVtYSA9IHoub2JqZWN0KHsgaWQ6IHoubnVtYmVyKCkuaW50KCksIGFjdGlvbjogei5lbnVtKFsnQ09ORklSTScsJ0RJU1BBVENIJywnU1RBUlQnLCdDT01QTEVURScsJ0NBTkNFTCcsJ01BUktfUEFJRCddKSB9KVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IFJlcXVlc3Qpe1xuICB0cnl7XG4gICAgY29uc3QgeyBpZCwgYWN0aW9uIH0gPSBTY2hlbWEucGFyc2UoYXdhaXQgcmVxLmpzb24oKSlcbiAgICBjb25zdCByaWRlID0gYXdhaXQgcHJpc21hLnJpZGUuZmluZFVuaXF1ZSh7IHdoZXJlOnsgaWQgfSwgaW5jbHVkZTp7IHVzZXI6dHJ1ZSB9IH0pXG4gICAgaWYgKCFyaWRlKSByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBvazpmYWxzZSwgZXJyb3I6J1JpZGUgbm90IGZvdW5kJyB9LHsgc3RhdHVzOjQwNCB9KVxuXG4gICAgbGV0IGRhdGE6YW55ID0ge31cbiAgICBpZiAoYWN0aW9uPT09J0NPTkZJUk0nKSBkYXRhLnN0YXR1cz0nQ09ORklSTUVEJ1xuICAgIGlmIChhY3Rpb249PT0nRElTUEFUQ0gnKSBkYXRhLnN0YXR1cz0nRElTUEFUQ0hFRCdcbiAgICBpZiAoYWN0aW9uPT09J1NUQVJUJykgZGF0YS5zdGF0dXM9J09OR09JTkcnXG4gICAgaWYgKGFjdGlvbj09PSdDT01QTEVURScpIGRhdGEuc3RhdHVzPSdDT01QTEVURUQnXG4gICAgaWYgKGFjdGlvbj09PSdDQU5DRUwnKSBkYXRhLnN0YXR1cz0nQ0FOQ0VMRUQnXG4gICAgaWYgKGFjdGlvbj09PSdNQVJLX1BBSUQnKSBkYXRhLnBhaWQ9dHJ1ZVxuXG4gICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHByaXNtYS5yaWRlLnVwZGF0ZSh7IHdoZXJlOnsgaWQgfSwgZGF0YSB9KVxuXG4gICAgLy8gRW1haWwgdXNlciBvbiBrZXkgYWN0aW9uc1xuICAgIGNvbnN0IGVtYWlsID0gcmlkZS51c2VyLmVtYWlsXG4gICAgY29uc3QgZm10ID0gbmV3IERhdGUocmlkZS5waWNrdXBUaW1lKS50b0xvY2FsZVN0cmluZygpXG4gICAgdHJ5e1xuICAgICAgaWYgKGFjdGlvbj09PSdDT05GSVJNJykgYXdhaXQgc2VuZEVtYWlsKGVtYWlsLCdZb3VyIGJvb2tpbmcgaXMgY29uZmlybWVkJyxgPHA+WW91ciByaWRlICMke3JpZGUuaWR9IGlzIGNvbmZpcm1lZCBmb3IgJHtmbXR9LjwvcD5gKVxuICAgICAgaWYgKGFjdGlvbj09PSdESVNQQVRDSCcpIGF3YWl0IHNlbmRFbWFpbChlbWFpbCwnWW91ciBjYXIgaXMgb24gdGhlIHdheScsYDxwPllvdXIgcmlkZSAjJHtyaWRlLmlkfSBoYXMgYmVlbiBkaXNwYXRjaGVkLiBUaGUgY2FyIGlzIG9uIHRoZSB3YXkuPC9wPmApXG4gICAgICBpZiAoYWN0aW9uPT09J0NPTVBMRVRFJykgYXdhaXQgc2VuZEVtYWlsKGVtYWlsLCdZb3VyIHJpZGUgaXMgY29tcGxldGVkJyxgPHA+WW91ciByaWRlICMke3JpZGUuaWR9IGlzIGNvbXBsZXRlZC4gVGhhbmsgeW91ITwvcD5gKVxuICAgICAgaWYgKGFjdGlvbj09PSdDQU5DRUwnKSBhd2FpdCBzZW5kRW1haWwoZW1haWwsJ1lvdXIgYm9va2luZyB3YXMgY2FuY2VsZWQnLGA8cD5Zb3VyIHJpZGUgIyR7cmlkZS5pZH0gaGFzIGJlZW4gY2FuY2VsZWQuPC9wPmApXG4gICAgfWNhdGNoKGUpeyBjb25zb2xlLndhcm4oJ1ttYWlsXSBhZG1pbiB1cGRhdGUgZW1haWwgZmFpbGVkJywgZSkgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgb2s6dHJ1ZSwgcmlkZTogdXBkYXRlZCB9KVxuICB9Y2F0Y2goZTphbnkpe1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOmZhbHNlLCBlcnJvcjogZT8ubWVzc2FnZXx8J0ludmFsaWQnIH0seyBzdGF0dXM6NDAwIH0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJ6IiwicHJpc21hIiwic2VuZEVtYWlsIiwiU2NoZW1hIiwib2JqZWN0IiwiaWQiLCJudW1iZXIiLCJpbnQiLCJhY3Rpb24iLCJlbnVtIiwiUE9TVCIsInJlcSIsInBhcnNlIiwianNvbiIsInJpZGUiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpbmNsdWRlIiwidXNlciIsIm9rIiwiZXJyb3IiLCJzdGF0dXMiLCJkYXRhIiwicGFpZCIsInVwZGF0ZWQiLCJ1cGRhdGUiLCJlbWFpbCIsImZtdCIsIkRhdGUiLCJwaWNrdXBUaW1lIiwidG9Mb2NhbGVTdHJpbmciLCJlIiwiY29uc29sZSIsIndhcm4iLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/bookings/update/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = global;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBQzlDLE1BQU1DLGtCQUFrQkM7QUFDakIsTUFBTUMsU0FBU0YsZ0JBQWdCRSxNQUFNLElBQUksSUFBSUgsd0RBQVlBLEdBQUc7QUFDbkUsSUFBSUksSUFBeUIsRUFBYyxnQkFBeUJELE1BQU0sR0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly85NDQtdHJhZmlrLy4vbGliL2RiLnRzPzFkZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsIGFzIHVua25vd24gYXMgeyBwcmlzbWE6IFByaXNtYUNsaWVudCB9O1xuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgfHwgbmV3IFByaXNtYUNsaWVudCgpO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIChnbG9iYWxGb3JQcmlzbWEgYXMgYW55KS5wcmlzbWEgPSBwcmlzbWE7XG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsIiwicHJpc21hIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/email.ts":
/*!**********************!*\
  !*** ./lib/email.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendEmail: () => (/* binding */ sendEmail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/nodemailer/lib/nodemailer.js\");\n\nasync function trySend(opts) {\n    const { host, port, user, pass, from, to, subject, html, secure, requireTLS } = opts;\n    const transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n        host,\n        port,\n        secure,\n        auth: {\n            user,\n            pass\n        },\n        requireTLS: requireTLS ?? false,\n        logger: true // يطبع تفاصيل في السيرفر\n    }, {\n        from\n    });\n    try {\n        await transporter.verify();\n    } catch (e) {\n        console.error(\"[MAIL] verify failed\", {\n            host,\n            port,\n            secure,\n            requireTLS,\n            code: e?.code,\n            msg: e?.message\n        });\n        return {\n            ok: false,\n            error: \"VERIFY_FAIL\",\n            detail: e?.message\n        };\n    }\n    try {\n        const info = await transporter.sendMail({\n            to,\n            subject,\n            html\n        });\n        console.log(\"[MAIL] sent\", {\n            messageId: info.messageId,\n            host,\n            port\n        });\n        return {\n            ok: true\n        };\n    } catch (e) {\n        console.error(\"[MAIL] send failed\", {\n            host,\n            port,\n            code: e?.code,\n            msg: e?.message\n        });\n        return {\n            ok: false,\n            error: e?.code || \"SEND_FAIL\",\n            detail: e?.message\n        };\n    }\n}\nasync function sendEmail(to, subject, html) {\n    const host = process.env.SMTP_HOST || \"\";\n    const port = Number(process.env.SMTP_PORT || \"465\");\n    const user = process.env.SMTP_USER || \"\";\n    const pass = process.env.SMTP_PASS || \"\";\n    // اجعل FROM يطابق المستخدم إن لم يكن Alias مصرح به\n    const envFrom = process.env.SMTP_FROM || user;\n    const from = envFrom.includes(\"@\") ? envFrom : user;\n    // المحاولة الأولى: حسب الإعدادات (465→secure=true أو 587→secure=false)\n    const primary = await trySend({\n        host,\n        port,\n        user,\n        pass,\n        from,\n        to,\n        subject,\n        html,\n        secure: port === 465,\n        requireTLS: port === 587\n    });\n    if (primary.ok) return primary;\n    // إن فشل بسبب TLS/اتصال، جرّب تلقائياً 587/STARTTLS\n    if (port === 465) {\n        console.warn(\"[MAIL] primary failed on 465, retrying on 587/STARTTLS\");\n        const fallback = await trySend({\n            host,\n            port: 587,\n            user,\n            pass,\n            from,\n            to,\n            subject,\n            html,\n            secure: false,\n            requireTLS: true\n        });\n        return fallback;\n    }\n    return primary;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZW1haWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBb0M7QUFJcEMsZUFBZUMsUUFBUUMsSUFBc0o7SUFDM0ssTUFBTSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRUMsRUFBRSxFQUFFQyxPQUFPLEVBQUVDLElBQUksRUFBRUMsTUFBTSxFQUFFQyxVQUFVLEVBQUUsR0FBR1Y7SUFDaEYsTUFBTVcsY0FBY2IsdURBQTBCLENBQUM7UUFDN0NHO1FBQ0FDO1FBQ0FPO1FBQ0FJLE1BQU07WUFBRVY7WUFBTUM7UUFBSztRQUNuQk0sWUFBWUEsY0FBYztRQUMxQkksUUFBUSxLQUFnQix5QkFBeUI7SUFDbkQsR0FBRztRQUFFVDtJQUFLO0lBRVYsSUFBSTtRQUNGLE1BQU1NLFlBQVlJLE1BQU07SUFDMUIsRUFBRSxPQUFPQyxHQUFRO1FBQ2ZDLFFBQVFDLEtBQUssQ0FBQyx3QkFBd0I7WUFBRWpCO1lBQU1DO1lBQU1PO1lBQVFDO1lBQVlTLE1BQU1ILEdBQUdHO1lBQU1DLEtBQUtKLEdBQUdLO1FBQVE7UUFDdkcsT0FBTztZQUFFQyxJQUFHO1lBQU9KLE9BQU07WUFBZUssUUFBUVAsR0FBR0s7UUFBUTtJQUM3RDtJQUVBLElBQUk7UUFDRixNQUFNRyxPQUFPLE1BQU1iLFlBQVljLFFBQVEsQ0FBQztZQUFFbkI7WUFBSUM7WUFBU0M7UUFBSztRQUM1RFMsUUFBUVMsR0FBRyxDQUFDLGVBQWU7WUFBRUMsV0FBV0gsS0FBS0csU0FBUztZQUFFMUI7WUFBTUM7UUFBSztRQUNuRSxPQUFPO1lBQUVvQixJQUFHO1FBQUs7SUFDbkIsRUFBRSxPQUFPTixHQUFRO1FBQ2ZDLFFBQVFDLEtBQUssQ0FBQyxzQkFBc0I7WUFBRWpCO1lBQU1DO1lBQU1pQixNQUFNSCxHQUFHRztZQUFNQyxLQUFLSixHQUFHSztRQUFRO1FBQ2pGLE9BQU87WUFBRUMsSUFBRztZQUFPSixPQUFPRixHQUFHRyxRQUFRO1lBQWFJLFFBQVFQLEdBQUdLO1FBQVE7SUFDdkU7QUFDRjtBQUVPLGVBQWVPLFVBQVV0QixFQUFVLEVBQUVDLE9BQWUsRUFBRUMsSUFBWTtJQUN2RSxNQUFNUCxPQUFPNEIsUUFBUUMsR0FBRyxDQUFDQyxTQUFTLElBQUk7SUFDdEMsTUFBTTdCLE9BQU84QixPQUFPSCxRQUFRQyxHQUFHLENBQUNHLFNBQVMsSUFBSTtJQUM3QyxNQUFNOUIsT0FBTzBCLFFBQVFDLEdBQUcsQ0FBQ0ksU0FBUyxJQUFJO0lBQ3RDLE1BQU05QixPQUFPeUIsUUFBUUMsR0FBRyxDQUFDSyxTQUFTLElBQUk7SUFDdEMsbURBQW1EO0lBQ25ELE1BQU1DLFVBQVVQLFFBQVFDLEdBQUcsQ0FBQ08sU0FBUyxJQUFJbEM7SUFDekMsTUFBTUUsT0FBTytCLFFBQVFFLFFBQVEsQ0FBQyxPQUFPRixVQUFVakM7SUFFL0MsdUVBQXVFO0lBQ3ZFLE1BQU1vQyxVQUFzQixNQUFNeEMsUUFBUTtRQUN4Q0U7UUFBTUM7UUFBTUM7UUFBTUM7UUFBTUM7UUFBTUM7UUFBSUM7UUFBU0M7UUFDM0NDLFFBQVFQLFNBQVM7UUFDakJRLFlBQVlSLFNBQVM7SUFDdkI7SUFDQSxJQUFJcUMsUUFBUWpCLEVBQUUsRUFBRSxPQUFPaUI7SUFFdkIsb0RBQW9EO0lBQ3BELElBQUlyQyxTQUFTLEtBQUs7UUFDaEJlLFFBQVF1QixJQUFJLENBQUM7UUFDYixNQUFNQyxXQUFXLE1BQU0xQyxRQUFRO1lBQzdCRTtZQUFNQyxNQUFNO1lBQUtDO1lBQU1DO1lBQU1DO1lBQU1DO1lBQUlDO1lBQVNDO1lBQ2hEQyxRQUFRO1lBQU9DLFlBQVk7UUFDN0I7UUFDQSxPQUFPK0I7SUFDVDtJQUVBLE9BQU9GO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly85NDQtdHJhZmlrLy4vbGliL2VtYWlsLnRzPzgyODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5vZGVtYWlsZXIgZnJvbSAnbm9kZW1haWxlcic7XG5cbnR5cGUgU2VuZFJlc3VsdCA9IHsgb2s6IHRydWUgfSB8IHsgb2s6IGZhbHNlOyBlcnJvcjogc3RyaW5nOyBkZXRhaWw/OiBzdHJpbmcgfTtcblxuYXN5bmMgZnVuY3Rpb24gdHJ5U2VuZChvcHRzOiB7IGhvc3Q6c3RyaW5nOyBwb3J0Om51bWJlcjsgdXNlcjpzdHJpbmc7IHBhc3M6c3RyaW5nOyBmcm9tOnN0cmluZzsgdG86c3RyaW5nOyBzdWJqZWN0OnN0cmluZzsgaHRtbDpzdHJpbmc7IHNlY3VyZTpib29sZWFuOyByZXF1aXJlVExTPzpib29sZWFuIH0pOiBQcm9taXNlPFNlbmRSZXN1bHQ+IHtcbiAgY29uc3QgeyBob3N0LCBwb3J0LCB1c2VyLCBwYXNzLCBmcm9tLCB0bywgc3ViamVjdCwgaHRtbCwgc2VjdXJlLCByZXF1aXJlVExTIH0gPSBvcHRzO1xuICBjb25zdCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgICBob3N0LFxuICAgIHBvcnQsXG4gICAgc2VjdXJlLCAgICAgICAgICAgICAgICAgLy8gNDY1PXRydWUsIDU4Nz1mYWxzZVxuICAgIGF1dGg6IHsgdXNlciwgcGFzcyB9LFxuICAgIHJlcXVpcmVUTFM6IHJlcXVpcmVUTFMgPz8gZmFsc2UsXG4gICAgbG9nZ2VyOiB0cnVlICAgICAgICAgICAgLy8g2YrYt9io2Lkg2KrZgdin2LXZitmEINmB2Yog2KfZhNiz2YrYsdmB2LFcbiAgfSwgeyBmcm9tIH0pO1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgdHJhbnNwb3J0ZXIudmVyaWZ5KCk7XG4gIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tNQUlMXSB2ZXJpZnkgZmFpbGVkJywgeyBob3N0LCBwb3J0LCBzZWN1cmUsIHJlcXVpcmVUTFMsIGNvZGU6IGU/LmNvZGUsIG1zZzogZT8ubWVzc2FnZSB9KTtcbiAgICByZXR1cm4geyBvazpmYWxzZSwgZXJyb3I6J1ZFUklGWV9GQUlMJywgZGV0YWlsOiBlPy5tZXNzYWdlIH07XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGluZm8gPSBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbCh7IHRvLCBzdWJqZWN0LCBodG1sIH0pO1xuICAgIGNvbnNvbGUubG9nKCdbTUFJTF0gc2VudCcsIHsgbWVzc2FnZUlkOiBpbmZvLm1lc3NhZ2VJZCwgaG9zdCwgcG9ydCB9KTtcbiAgICByZXR1cm4geyBvazp0cnVlIH07XG4gIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tNQUlMXSBzZW5kIGZhaWxlZCcsIHsgaG9zdCwgcG9ydCwgY29kZTogZT8uY29kZSwgbXNnOiBlPy5tZXNzYWdlIH0pO1xuICAgIHJldHVybiB7IG9rOmZhbHNlLCBlcnJvcjogZT8uY29kZSB8fCAnU0VORF9GQUlMJywgZGV0YWlsOiBlPy5tZXNzYWdlIH07XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRFbWFpbCh0bzogc3RyaW5nLCBzdWJqZWN0OiBzdHJpbmcsIGh0bWw6IHN0cmluZyk6IFByb21pc2U8U2VuZFJlc3VsdD4ge1xuICBjb25zdCBob3N0ID0gcHJvY2Vzcy5lbnYuU01UUF9IT1NUIHx8ICcnO1xuICBjb25zdCBwb3J0ID0gTnVtYmVyKHByb2Nlc3MuZW52LlNNVFBfUE9SVCB8fCAnNDY1Jyk7XG4gIGNvbnN0IHVzZXIgPSBwcm9jZXNzLmVudi5TTVRQX1VTRVIgfHwgJyc7XG4gIGNvbnN0IHBhc3MgPSBwcm9jZXNzLmVudi5TTVRQX1BBU1MgfHwgJyc7XG4gIC8vINin2KzYudmEIEZST00g2YrYt9in2KjZgiDYp9mE2YXYs9iq2K7Yr9mFINil2YYg2YTZhSDZitmD2YYgQWxpYXMg2YXYtdix2K0g2KjZh1xuICBjb25zdCBlbnZGcm9tID0gcHJvY2Vzcy5lbnYuU01UUF9GUk9NIHx8IHVzZXI7XG4gIGNvbnN0IGZyb20gPSBlbnZGcm9tLmluY2x1ZGVzKCdAJykgPyBlbnZGcm9tIDogdXNlcjtcblxuICAvLyDYp9mE2YXYrdin2YjZhNipINin2YTYo9mI2YTZiTog2K3Ys9ioINin2YTYpdi52K/Yp9iv2KfYqiAoNDY14oaSc2VjdXJlPXRydWUg2KPZiCA1ODfihpJzZWN1cmU9ZmFsc2UpXG4gIGNvbnN0IHByaW1hcnk6IFNlbmRSZXN1bHQgPSBhd2FpdCB0cnlTZW5kKHtcbiAgICBob3N0LCBwb3J0LCB1c2VyLCBwYXNzLCBmcm9tLCB0bywgc3ViamVjdCwgaHRtbCxcbiAgICBzZWN1cmU6IHBvcnQgPT09IDQ2NSxcbiAgICByZXF1aXJlVExTOiBwb3J0ID09PSA1ODdcbiAgfSk7XG4gIGlmIChwcmltYXJ5Lm9rKSByZXR1cm4gcHJpbWFyeTtcblxuICAvLyDYpdmGINmB2LTZhCDYqNiz2KjYqCBUTFMv2KfYqti12KfZhNiMINis2LHZkdioINiq2YTZgtin2KbZitin2YsgNTg3L1NUQVJUVExTXG4gIGlmIChwb3J0ID09PSA0NjUpIHtcbiAgICBjb25zb2xlLndhcm4oJ1tNQUlMXSBwcmltYXJ5IGZhaWxlZCBvbiA0NjUsIHJldHJ5aW5nIG9uIDU4Ny9TVEFSVFRMUycpO1xuICAgIGNvbnN0IGZhbGxiYWNrID0gYXdhaXQgdHJ5U2VuZCh7XG4gICAgICBob3N0LCBwb3J0OiA1ODcsIHVzZXIsIHBhc3MsIGZyb20sIHRvLCBzdWJqZWN0LCBodG1sLFxuICAgICAgc2VjdXJlOiBmYWxzZSwgcmVxdWlyZVRMUzogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfVxuXG4gIHJldHVybiBwcmltYXJ5O1xufVxuIl0sIm5hbWVzIjpbIm5vZGVtYWlsZXIiLCJ0cnlTZW5kIiwib3B0cyIsImhvc3QiLCJwb3J0IiwidXNlciIsInBhc3MiLCJmcm9tIiwidG8iLCJzdWJqZWN0IiwiaHRtbCIsInNlY3VyZSIsInJlcXVpcmVUTFMiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsImF1dGgiLCJsb2dnZXIiLCJ2ZXJpZnkiLCJlIiwiY29uc29sZSIsImVycm9yIiwiY29kZSIsIm1zZyIsIm1lc3NhZ2UiLCJvayIsImRldGFpbCIsImluZm8iLCJzZW5kTWFpbCIsImxvZyIsIm1lc3NhZ2VJZCIsInNlbmRFbWFpbCIsInByb2Nlc3MiLCJlbnYiLCJTTVRQX0hPU1QiLCJOdW1iZXIiLCJTTVRQX1BPUlQiLCJTTVRQX1VTRVIiLCJTTVRQX1BBU1MiLCJlbnZGcm9tIiwiU01UUF9GUk9NIiwiaW5jbHVkZXMiLCJwcmltYXJ5Iiwid2FybiIsImZhbGxiYWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/email.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/nodemailer","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fbookings%2Fupdate%2Froute&page=%2Fapi%2Fadmin%2Fbookings%2Fupdate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fbookings%2Fupdate%2Froute.ts&appDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944%20Trafik%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944%20Trafik&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();