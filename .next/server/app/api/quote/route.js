"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/quote/route";
exports.ids = ["app/api/quote/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquote%2Froute&page=%2Fapi%2Fquote%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquote%2Froute.ts&appDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944-TrafikTaxa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944-TrafikTaxa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquote%2Froute&page=%2Fapi%2Fquote%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquote%2Froute.ts&appDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944-TrafikTaxa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944-TrafikTaxa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_moses_Projects_Websites_944_TrafikTaxa_app_api_quote_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/quote/route.ts */ \"(rsc)/./app/api/quote/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/quote/route\",\n        pathname: \"/api/quote\",\n        filename: \"route\",\n        bundlePath: \"app/api/quote/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\moses\\\\Projects\\\\Websites\\\\944-TrafikTaxa\\\\app\\\\api\\\\quote\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_moses_Projects_Websites_944_TrafikTaxa_app_api_quote_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/quote/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZxdW90ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcXVvdGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZxdW90ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNtb3NlcyU1Q1Byb2plY3RzJTVDV2Vic2l0ZXMlNUM5NDQtVHJhZmlrVGF4YSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDbW9zZXMlNUNQcm9qZWN0cyU1Q1dlYnNpdGVzJTVDOTQ0LVRyYWZpa1RheGEmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQytCO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vOTQ0LXRyYWZpay8/ZmY3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxtb3Nlc1xcXFxQcm9qZWN0c1xcXFxXZWJzaXRlc1xcXFw5NDQtVHJhZmlrVGF4YVxcXFxhcHBcXFxcYXBpXFxcXHF1b3RlXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9xdW90ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3F1b3RlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9xdW90ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXG1vc2VzXFxcXFByb2plY3RzXFxcXFdlYnNpdGVzXFxcXDk0NC1UcmFmaWtUYXhhXFxcXGFwcFxcXFxhcGlcXFxccXVvdGVcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3F1b3RlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquote%2Froute&page=%2Fapi%2Fquote%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquote%2Froute.ts&appDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944-TrafikTaxa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944-TrafikTaxa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/quote/route.ts":
/*!********************************!*\
  !*** ./app/api/quote/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var _lib_geocode_safe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/geocode-safe */ \"(rsc)/./lib/geocode-safe.ts\");\n/* harmony import */ var _lib_price__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/price */ \"(rsc)/./lib/price.ts\");\n/* harmony import */ var _lib_rate_limit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/rate-limit */ \"(rsc)/./lib/rate-limit.ts\");\n\n\n\n\n\nconst Schema = zod__WEBPACK_IMPORTED_MODULE_4__.object({\n    pickupAddress: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1),\n    dropoffAddress: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1),\n    when: zod__WEBPACK_IMPORTED_MODULE_4__.string().min(1),\n    passengers: zod__WEBPACK_IMPORTED_MODULE_4__.union([\n        zod__WEBPACK_IMPORTED_MODULE_4__.number().int(),\n        zod__WEBPACK_IMPORTED_MODULE_4__.string()\n    ]).optional(),\n    pickupLat: zod__WEBPACK_IMPORTED_MODULE_4__.number().optional().nullable(),\n    pickupLon: zod__WEBPACK_IMPORTED_MODULE_4__.number().optional().nullable(),\n    dropoffLat: zod__WEBPACK_IMPORTED_MODULE_4__.number().optional().nullable(),\n    dropoffLon: zod__WEBPACK_IMPORTED_MODULE_4__.number().optional().nullable(),\n    vehicleTypeId: zod__WEBPACK_IMPORTED_MODULE_4__.number().int().optional()\n});\nasync function POST(req) {\n    try {\n        await (0,_lib_rate_limit__WEBPACK_IMPORTED_MODULE_3__.limitOrThrow)(\"quote:\" + (0,_lib_rate_limit__WEBPACK_IMPORTED_MODULE_3__.clientIpKey)(req), {\n            points: 8,\n            durationSec: 60\n        });\n    } catch (e) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: \"Too many requests, try again later.\"\n        }, {\n            status: e?.status || 429\n        });\n    }\n    try {\n        const parsed = Schema.parse(await req.json());\n        const { distanceKm, durationMin } = await (0,_lib_geocode_safe__WEBPACK_IMPORTED_MODULE_1__.safeEstimateDistance)({\n            address: parsed.pickupAddress,\n            lat: parsed.pickupLat || null,\n            lon: parsed.pickupLon || null\n        }, {\n            address: parsed.dropoffAddress,\n            lat: parsed.dropoffLat || null,\n            lon: parsed.dropoffLon || null\n        });\n        const at = new Date(parsed.when);\n        const price = await (0,_lib_price__WEBPACK_IMPORTED_MODULE_2__.computePrice)(distanceKm, durationMin, at, parsed.vehicleTypeId);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: true,\n            distanceKm,\n            durationMin,\n            price\n        });\n    } catch (e) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: \"Invalid request or addresses could not be geocoded.\"\n        }, {\n            status: 400\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3F1b3RlL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyQztBQUNuQjtBQUNrQztBQUNmO0FBQ2tCO0FBRTdELE1BQU1NLFNBQVNMLHVDQUFRLENBQUM7SUFDdEJPLGVBQWVQLHVDQUFRLEdBQUdTLEdBQUcsQ0FBQztJQUM5QkMsZ0JBQWdCVix1Q0FBUSxHQUFHUyxHQUFHLENBQUM7SUFDL0JFLE1BQU1YLHVDQUFRLEdBQUdTLEdBQUcsQ0FBQztJQUNyQkcsWUFBWVosc0NBQU8sQ0FBQztRQUFDQSx1Q0FBUSxHQUFHZSxHQUFHO1FBQUlmLHVDQUFRO0tBQUcsRUFBRWdCLFFBQVE7SUFDNURDLFdBQVdqQix1Q0FBUSxHQUFHZ0IsUUFBUSxHQUFHRSxRQUFRO0lBQ3pDQyxXQUFXbkIsdUNBQVEsR0FBR2dCLFFBQVEsR0FBR0UsUUFBUTtJQUN6Q0UsWUFBWXBCLHVDQUFRLEdBQUdnQixRQUFRLEdBQUdFLFFBQVE7SUFDMUNHLFlBQVlyQix1Q0FBUSxHQUFHZ0IsUUFBUSxHQUFHRSxRQUFRO0lBQzFDSSxlQUFldEIsdUNBQVEsR0FBR2UsR0FBRyxHQUFHQyxRQUFRO0FBQzFDO0FBRU8sZUFBZU8sS0FBS0MsR0FBWTtJQUNyQyxJQUFHO1FBQUUsTUFBTXBCLDZEQUFZQSxDQUFDLFdBQVNELDREQUFXQSxDQUFDcUIsTUFBTTtZQUFFQyxRQUFRO1lBQUdDLGFBQWE7UUFBRztJQUFJLEVBQ3BGLE9BQU1DLEdBQU07UUFBRSxPQUFPNUIscURBQVlBLENBQUM2QixJQUFJLENBQUM7WUFBRUMsSUFBRztZQUFPQyxPQUFNO1FBQXNDLEdBQUc7WUFBRUMsUUFBUUosR0FBR0ksVUFBUTtRQUFJO0lBQUk7SUFFL0gsSUFBRztRQUNELE1BQU1DLFNBQVMzQixPQUFPNEIsS0FBSyxDQUFDLE1BQU1ULElBQUlJLElBQUk7UUFDMUMsTUFBTSxFQUFFTSxVQUFVLEVBQUVDLFdBQVcsRUFBRSxHQUFHLE1BQU1sQyx1RUFBb0JBLENBQzVEO1lBQUVtQyxTQUFTSixPQUFPekIsYUFBYTtZQUFFOEIsS0FBS0wsT0FBT2YsU0FBUyxJQUFFO1lBQU1xQixLQUFLTixPQUFPYixTQUFTLElBQUU7UUFBSyxHQUMxRjtZQUFFaUIsU0FBU0osT0FBT3RCLGNBQWM7WUFBRTJCLEtBQUtMLE9BQU9aLFVBQVUsSUFBRTtZQUFNa0IsS0FBS04sT0FBT1gsVUFBVSxJQUFFO1FBQUs7UUFFL0YsTUFBTWtCLEtBQUssSUFBSUMsS0FBS1IsT0FBT3JCLElBQUk7UUFDL0IsTUFBTThCLFFBQVEsTUFBTXZDLHdEQUFZQSxDQUFDZ0MsWUFBWUMsYUFBYUksSUFBSVAsT0FBT1YsYUFBYTtRQUNsRixPQUFPdkIscURBQVlBLENBQUM2QixJQUFJLENBQUM7WUFBRUMsSUFBRztZQUFNSztZQUFZQztZQUFhTTtRQUFNO0lBQ3JFLEVBQUMsT0FBTWQsR0FBTTtRQUNYLE9BQU81QixxREFBWUEsQ0FBQzZCLElBQUksQ0FBQztZQUFFQyxJQUFHO1lBQU9DLE9BQU07UUFBc0QsR0FBRztZQUFFQyxRQUFPO1FBQUk7SUFDbkg7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovLzk0NC10cmFmaWsvLi9hcHAvYXBpL3F1b3RlL3JvdXRlLnRzPzY4MDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBzYWZlRXN0aW1hdGVEaXN0YW5jZSB9IGZyb20gJ0AvbGliL2dlb2NvZGUtc2FmZSc7XG5pbXBvcnQgeyBjb21wdXRlUHJpY2UgfSBmcm9tICdAL2xpYi9wcmljZSc7XG5pbXBvcnQgeyBjbGllbnRJcEtleSwgbGltaXRPclRocm93IH0gZnJvbSAnQC9saWIvcmF0ZS1saW1pdCc7XG5cbmNvbnN0IFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcGlja3VwQWRkcmVzczogei5zdHJpbmcoKS5taW4oMSksXG4gIGRyb3BvZmZBZGRyZXNzOiB6LnN0cmluZygpLm1pbigxKSxcbiAgd2hlbjogei5zdHJpbmcoKS5taW4oMSksXG4gIHBhc3NlbmdlcnM6IHoudW5pb24oW3oubnVtYmVyKCkuaW50KCksIHouc3RyaW5nKCldKS5vcHRpb25hbCgpLFxuICBwaWNrdXBMYXQ6IHoubnVtYmVyKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICBwaWNrdXBMb246IHoubnVtYmVyKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICBkcm9wb2ZmTGF0OiB6Lm51bWJlcigpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgZHJvcG9mZkxvbjogei5udW1iZXIoKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gIHZlaGljbGVUeXBlSWQ6IHoubnVtYmVyKCkuaW50KCkub3B0aW9uYWwoKVxufSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCl7XG4gIHRyeXsgYXdhaXQgbGltaXRPclRocm93KCdxdW90ZTonK2NsaWVudElwS2V5KHJlcSksIHsgcG9pbnRzOiA4LCBkdXJhdGlvblNlYzogNjAgfSk7IH1cbiAgY2F0Y2goZTphbnkpeyByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBvazpmYWxzZSwgZXJyb3I6J1RvbyBtYW55IHJlcXVlc3RzLCB0cnkgYWdhaW4gbGF0ZXIuJyB9LCB7IHN0YXR1czogZT8uc3RhdHVzfHw0MjkgfSk7IH1cblxuICB0cnl7XG4gICAgY29uc3QgcGFyc2VkID0gU2NoZW1hLnBhcnNlKGF3YWl0IHJlcS5qc29uKCkpO1xuICAgIGNvbnN0IHsgZGlzdGFuY2VLbSwgZHVyYXRpb25NaW4gfSA9IGF3YWl0IHNhZmVFc3RpbWF0ZURpc3RhbmNlKFxuICAgICAgeyBhZGRyZXNzOiBwYXJzZWQucGlja3VwQWRkcmVzcywgbGF0OiBwYXJzZWQucGlja3VwTGF0fHxudWxsLCBsb246IHBhcnNlZC5waWNrdXBMb258fG51bGwgfSxcbiAgICAgIHsgYWRkcmVzczogcGFyc2VkLmRyb3BvZmZBZGRyZXNzLCBsYXQ6IHBhcnNlZC5kcm9wb2ZmTGF0fHxudWxsLCBsb246IHBhcnNlZC5kcm9wb2ZmTG9ufHxudWxsIH1cbiAgICApO1xuICAgIGNvbnN0IGF0ID0gbmV3IERhdGUocGFyc2VkLndoZW4pO1xuICAgIGNvbnN0IHByaWNlID0gYXdhaXQgY29tcHV0ZVByaWNlKGRpc3RhbmNlS20sIGR1cmF0aW9uTWluLCBhdCwgcGFyc2VkLnZlaGljbGVUeXBlSWQpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOnRydWUsIGRpc3RhbmNlS20sIGR1cmF0aW9uTWluLCBwcmljZSB9KTtcbiAgfWNhdGNoKGU6YW55KXtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBvazpmYWxzZSwgZXJyb3I6J0ludmFsaWQgcmVxdWVzdCBvciBhZGRyZXNzZXMgY291bGQgbm90IGJlIGdlb2NvZGVkLicgfSwgeyBzdGF0dXM6NDAwIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwieiIsInNhZmVFc3RpbWF0ZURpc3RhbmNlIiwiY29tcHV0ZVByaWNlIiwiY2xpZW50SXBLZXkiLCJsaW1pdE9yVGhyb3ciLCJTY2hlbWEiLCJvYmplY3QiLCJwaWNrdXBBZGRyZXNzIiwic3RyaW5nIiwibWluIiwiZHJvcG9mZkFkZHJlc3MiLCJ3aGVuIiwicGFzc2VuZ2VycyIsInVuaW9uIiwibnVtYmVyIiwiaW50Iiwib3B0aW9uYWwiLCJwaWNrdXBMYXQiLCJudWxsYWJsZSIsInBpY2t1cExvbiIsImRyb3BvZmZMYXQiLCJkcm9wb2ZmTG9uIiwidmVoaWNsZVR5cGVJZCIsIlBPU1QiLCJyZXEiLCJwb2ludHMiLCJkdXJhdGlvblNlYyIsImUiLCJqc29uIiwib2siLCJlcnJvciIsInN0YXR1cyIsInBhcnNlZCIsInBhcnNlIiwiZGlzdGFuY2VLbSIsImR1cmF0aW9uTWluIiwiYWRkcmVzcyIsImxhdCIsImxvbiIsImF0IiwiRGF0ZSIsInByaWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/quote/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\n// Prevent multiple Prisma instances in dev (Next.js HMR)\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log:  true ? [\n        \"query\",\n        \"error\",\n        \"warn\"\n    ] : 0\n});\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBRTlDLHlEQUF5RDtBQUN6RCxNQUFNQyxrQkFBa0JDO0FBRWpCLE1BQU1DLFNBQVNGLGdCQUFnQkUsTUFBTSxJQUFJLElBQUlILHdEQUFZQSxDQUFDO0lBQy9ESSxLQUFLQyxLQUF5QixHQUFnQjtRQUFDO1FBQVE7UUFBUTtLQUFPLEdBQUcsQ0FBUztBQUNwRixHQUFHO0FBRUgsSUFBSUEsSUFBeUIsRUFBY0osZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vOTQ0LXRyYWZpay8uL2xpYi9kYi50cz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcblxuLy8gUHJldmVudCBtdWx0aXBsZSBQcmlzbWEgaW5zdGFuY2VzIGluIGRldiAoTmV4dC5qcyBITVIpXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMgeyBwcmlzbWE/OiBQcmlzbWFDbGllbnQgfTtcblxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgfHwgbmV3IFByaXNtYUNsaWVudCh7XG4gIGxvZzogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyBbJ3F1ZXJ5JywnZXJyb3InLCd3YXJuJ10gOiBbJ2Vycm9yJ11cbn0pO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYTtcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwibG9nIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/geocode-safe.ts":
/*!*****************************!*\
  !*** ./lib/geocode-safe.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   safeEstimateDistance: () => (/* binding */ safeEstimateDistance)\n/* harmony export */ });\nfunction badText(a) {\n    const s = (a || \"\").trim();\n    if (!s) return true;\n    if (s.length > 200) return true;\n    if (/^https?:\\/\\//i.test(s)) return true;\n    if (/[<>]/.test(s)) return true;\n    return false;\n}\nasync function osrmDistance(lat1, lon1, lat2, lon2) {\n    const url = `https://router.project-osrm.org/route/v1/driving/${lon1},${lat1};${lon2},${lat2}?overview=false`;\n    const r = await fetch(url, {\n        headers: {\n            \"Accept\": \"application/json\"\n        },\n        next: {\n            revalidate: 0\n        }\n    });\n    if (!r.ok) throw new Error(\"OSRM failed\");\n    const j = await r.json();\n    const route = j?.routes?.[0];\n    if (!route) throw new Error(\"No route\");\n    const distanceKm = route.distance / 1000;\n    const durationMin = Math.max(1, Math.round(route.duration / 60));\n    return {\n        distanceKm,\n        durationMin\n    };\n}\nasync function geocode(addr) {\n    const u = new URL(\"https://nominatim.openstreetmap.org/search\");\n    u.searchParams.set(\"format\", \"json\");\n    u.searchParams.set(\"q\", addr);\n    u.searchParams.set(\"limit\", \"1\");\n    const r = await fetch(u, {\n        headers: {\n            \"Accept\": \"application/json\",\n            \"User-Agent\": \"944-trafik-app\"\n        },\n        next: {\n            revalidate: 0\n        }\n    });\n    if (!r.ok) throw new Error(\"Geocode failed\");\n    const j = await r.json();\n    const p = j?.[0];\n    if (!p) throw new Error(\"No geocode\");\n    return {\n        lat: Number(p.lat),\n        lon: Number(p.lon)\n    };\n}\nasync function safeEstimateDistance(a, b) {\n    // 1) Prefer coordinates when available\n    if (Number.isFinite(a.lat) && Number.isFinite(a.lon) && Number.isFinite(b.lat) && Number.isFinite(b.lon)) {\n        return osrmDistance(a.lat, a.lon, b.lat, b.lon);\n    }\n    // 2) Fallback to text addresses (sanitize)\n    const at = (a.address || \"\").trim();\n    const bt = (b.address || \"\").trim();\n    if (badText(at) || badText(bt)) throw new Error(\"Invalid address input\");\n    const A = await geocode(at);\n    const B = await geocode(bt);\n    return osrmDistance(A.lat, A.lon, B.lat, B.lon);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUssTUFBTSxJQUFJM0IsTUFBTTtJQUNoRCxNQUFNNEIsSUFBSSxNQUFNaEIsUUFBUWE7SUFDeEIsTUFBTUksSUFBSSxNQUFNakIsUUFBUWU7SUFDeEIsT0FBT3ZDLGFBQWF3QyxFQUFFVCxHQUFHLEVBQUVTLEVBQUVQLEdBQUcsRUFBRVEsRUFBRVYsR0FBRyxFQUFFVSxFQUFFUixHQUFHO0FBQ2hEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vOTQ0LXRyYWZpay8uL2xpYi9nZW9jb2RlLXNhZmUudHM/MzgyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBiYWRUZXh0KGE6IHN0cmluZyl7XG4gIGNvbnN0IHMgPSAoYXx8JycpLnRyaW0oKTtcbiAgaWYgKCFzKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKHMubGVuZ3RoID4gMjAwKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKC9eaHR0cHM/OlxcL1xcLy9pLnRlc3QocykpIHJldHVybiB0cnVlO1xuICBpZiAoL1s8Pl0vLnRlc3QocykpIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG9zcm1EaXN0YW5jZShsYXQxOm51bWJlciwgbG9uMTpudW1iZXIsIGxhdDI6bnVtYmVyLCBsb24yOm51bWJlcil7XG4gIGNvbnN0IHVybCA9IGBodHRwczovL3JvdXRlci5wcm9qZWN0LW9zcm0ub3JnL3JvdXRlL3YxL2RyaXZpbmcvJHtsb24xfSwke2xhdDF9OyR7bG9uMn0sJHtsYXQyfT9vdmVydmlldz1mYWxzZWA7XG4gIGNvbnN0IHIgPSBhd2FpdCBmZXRjaCh1cmwsIHsgaGVhZGVyczp7J0FjY2VwdCc6J2FwcGxpY2F0aW9uL2pzb24nfSwgbmV4dDp7IHJldmFsaWRhdGU6MCB9IH0pO1xuICBpZighci5vaykgdGhyb3cgbmV3IEVycm9yKCdPU1JNIGZhaWxlZCcpO1xuICBjb25zdCBqID0gYXdhaXQgci5qc29uKCk7XG4gIGNvbnN0IHJvdXRlID0gaj8ucm91dGVzPy5bMF07XG4gIGlmKCFyb3V0ZSkgdGhyb3cgbmV3IEVycm9yKCdObyByb3V0ZScpO1xuICBjb25zdCBkaXN0YW5jZUttID0gcm91dGUuZGlzdGFuY2UgLyAxMDAwO1xuICBjb25zdCBkdXJhdGlvbk1pbiA9IE1hdGgubWF4KDEsIE1hdGgucm91bmQocm91dGUuZHVyYXRpb24gLyA2MCkpO1xuICByZXR1cm4geyBkaXN0YW5jZUttLCBkdXJhdGlvbk1pbiB9O1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZW9jb2RlKGFkZHI6c3RyaW5nKXtcbiAgY29uc3QgdSA9IG5ldyBVUkwoJ2h0dHBzOi8vbm9taW5hdGltLm9wZW5zdHJlZXRtYXAub3JnL3NlYXJjaCcpO1xuICB1LnNlYXJjaFBhcmFtcy5zZXQoJ2Zvcm1hdCcsJ2pzb24nKTtcbiAgdS5zZWFyY2hQYXJhbXMuc2V0KCdxJywgYWRkcik7XG4gIHUuc2VhcmNoUGFyYW1zLnNldCgnbGltaXQnLCcxJyk7XG4gIGNvbnN0IHIgPSBhd2FpdCBmZXRjaCh1LCB7IGhlYWRlcnM6eydBY2NlcHQnOidhcHBsaWNhdGlvbi9qc29uJywnVXNlci1BZ2VudCc6Jzk0NC10cmFmaWstYXBwJ30sIG5leHQ6eyByZXZhbGlkYXRlOiAwIH0gfSk7XG4gIGlmKCFyLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0dlb2NvZGUgZmFpbGVkJyk7XG4gIGNvbnN0IGo6YW55W10gPSBhd2FpdCByLmpzb24oKTtcbiAgY29uc3QgcCA9IGo/LlswXTsgaWYoIXApIHRocm93IG5ldyBFcnJvcignTm8gZ2VvY29kZScpO1xuICByZXR1cm4geyBsYXQ6IE51bWJlcihwLmxhdCksIGxvbjogTnVtYmVyKHAubG9uKSB9O1xufVxuXG5leHBvcnQgdHlwZSBMb2NJbnB1dCA9IHsgYWRkcmVzcz86IHN0cmluZ3xudWxsOyBsYXQ/OiBudW1iZXJ8bnVsbDsgbG9uPzogbnVtYmVyfG51bGwgfTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhZmVFc3RpbWF0ZURpc3RhbmNlKGE6IExvY0lucHV0LCBiOiBMb2NJbnB1dCl7XG4gIC8vIDEpIFByZWZlciBjb29yZGluYXRlcyB3aGVuIGF2YWlsYWJsZVxuICBpZiAoTnVtYmVyLmlzRmluaXRlKGEubGF0IGFzIGFueSkgJiYgTnVtYmVyLmlzRmluaXRlKGEubG9uIGFzIGFueSkgJiYgTnVtYmVyLmlzRmluaXRlKGIubGF0IGFzIGFueSkgJiYgTnVtYmVyLmlzRmluaXRlKGIubG9uIGFzIGFueSkpe1xuICAgIHJldHVybiBvc3JtRGlzdGFuY2UoYS5sYXQgYXMgbnVtYmVyLCBhLmxvbiBhcyBudW1iZXIsIGIubGF0IGFzIG51bWJlciwgYi5sb24gYXMgbnVtYmVyKTtcbiAgfVxuICAvLyAyKSBGYWxsYmFjayB0byB0ZXh0IGFkZHJlc3NlcyAoc2FuaXRpemUpXG4gIGNvbnN0IGF0ID0gKGEuYWRkcmVzc3x8JycpLnRyaW0oKTtcbiAgY29uc3QgYnQgPSAoYi5hZGRyZXNzfHwnJykudHJpbSgpO1xuICBpZiAoYmFkVGV4dChhdCkgfHwgYmFkVGV4dChidCkpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhZGRyZXNzIGlucHV0Jyk7XG4gIGNvbnN0IEEgPSBhd2FpdCBnZW9jb2RlKGF0KTtcbiAgY29uc3QgQiA9IGF3YWl0IGdlb2NvZGUoYnQpO1xuICByZXR1cm4gb3NybURpc3RhbmNlKEEubGF0LCBBLmxvbiwgQi5sYXQsIEIubG9uKTtcbn1cbiJdLCJuYW1lcyI6WyJiYWRUZXh0IiwiYSIsInMiLCJ0cmltIiwibGVuZ3RoIiwidGVzdCIsIm9zcm1EaXN0YW5jZSIsImxhdDEiLCJsb24xIiwibGF0MiIsImxvbjIiLCJ1cmwiLCJyIiwiZmV0Y2giLCJoZWFkZXJzIiwibmV4dCIsInJldmFsaWRhdGUiLCJvayIsIkVycm9yIiwiaiIsImpzb24iLCJyb3V0ZSIsInJvdXRlcyIsImRpc3RhbmNlS20iLCJkaXN0YW5jZSIsImR1cmF0aW9uTWluIiwiTWF0aCIsIm1heCIsInJvdW5kIiwiZHVyYXRpb24iLCJnZW9jb2RlIiwiYWRkciIsInUiLCJVUkwiLCJzZWFyY2hQYXJhbXMiLCJzZXQiLCJwIiwibGF0IiwiTnVtYmVyIiwibG9uIiwic2FmZUVzdGltYXRlRGlzdGFuY2UiLCJiIiwiaXNGaW5pdGUiLCJhdCIsImFkZHJlc3MiLCJidCIsIkEiLCJCIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/geocode-safe.ts\n");

/***/ }),

/***/ "(rsc)/./lib/price.ts":
/*!**********************!*\
  !*** ./lib/price.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeBase: () => (/* binding */ computeBase),\n/* harmony export */   computePrice: () => (/* binding */ computePrice),\n/* harmony export */   getSettingsForAdmin: () => (/* binding */ getSettingsForAdmin)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n\nfunction isHoliday(at) {\n    const list = (process.env.HOLIDAYS || \"\").split(\",\").map((s)=>s.trim()).filter(Boolean);\n    const ymd = at.toISOString().slice(0, 10);\n    return list.includes(ymd);\n}\nasync function computeBase(distanceKm, durationMin, at) {\n    // اقرأ من Settings إن وُجد، وإلا استخدم القيم الافتراضية\n    const settings = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.settings.findUnique({\n        where: {\n            id: 1\n        }\n    }).catch(()=>null);\n    const hour = at.getHours();\n    const nightOrHoliday = hour < 6 || hour >= 18 || isHoliday(at);\n    const dayBase = settings?.dayBase ?? 40;\n    const dayKm = settings?.dayPerKm ?? 12.75;\n    const dayMin = settings?.dayPerMin ?? 5.75;\n    const ngBase = settings?.nightBase ?? 60;\n    const ngKm = settings?.nightPerKm ?? 16;\n    const ngMin = settings?.nightPerMin ?? 7;\n    const start = nightOrHoliday ? ngBase : dayBase;\n    const perKm = nightOrHoliday ? ngKm : dayKm;\n    const perMin = nightOrHoliday ? ngMin : dayMin;\n    const price = Math.max(0, start + perKm * distanceKm + perMin * durationMin);\n    return Math.round(price);\n}\nasync function computePrice(distanceKm, durationMin, at, vehicleTypeId) {\n    const base = await computeBase(distanceKm, durationMin, at);\n    if (!vehicleTypeId) return base;\n    const vt = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.vehicleType.findUnique({\n        where: {\n            id: vehicleTypeId\n        },\n        select: {\n            active: true,\n            multiplier: true\n        }\n    });\n    if (!vt || !vt.active) throw new Error(\"Vehicle type not available\");\n    const mul = Number(vt.multiplier || 1);\n    return Math.round(base * (mul > 0 ? mul : 1));\n}\nasync function getSettingsForAdmin() {\n    const settings = await _lib_db__WEBPACK_IMPORTED_MODULE_0__.prisma.settings.findUnique({\n        where: {\n            id: 1\n        }\n    });\n    return settings;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrQztBQUVsQyxTQUFTQyxVQUFVQyxFQUFRO0lBQ3pCLE1BQU1DLE9BQU8sQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxRQUFRLElBQUUsRUFBQyxFQUFHQyxLQUFLLENBQUMsS0FBS0MsR0FBRyxDQUFDQyxDQUFBQSxJQUFJQSxFQUFFQyxJQUFJLElBQUlDLE1BQU0sQ0FBQ0M7SUFDNUUsTUFBTUMsTUFBTVgsR0FBR1ksV0FBVyxHQUFHQyxLQUFLLENBQUMsR0FBRTtJQUNyQyxPQUFPWixLQUFLYSxRQUFRLENBQUNIO0FBQ3ZCO0FBRU8sZUFBZUksWUFBWUMsVUFBaUIsRUFBRUMsV0FBa0IsRUFBRWpCLEVBQVE7SUFDL0UseURBQXlEO0lBQ3pELE1BQU1rQixXQUFXLE1BQU1wQiwyQ0FBTUEsQ0FBQ29CLFFBQVEsQ0FBQ0MsVUFBVSxDQUFDO1FBQUVDLE9BQU87WUFBRUMsSUFBSTtRQUFFO0lBQUUsR0FBR0MsS0FBSyxDQUFDLElBQUk7SUFDbEYsTUFBTUMsT0FBT3ZCLEdBQUd3QixRQUFRO0lBQ3hCLE1BQU1DLGlCQUFpQixPQUFRLEtBQUtGLFFBQVEsTUFBT3hCLFVBQVVDO0lBRTdELE1BQU0wQixVQUFVUixVQUFVUSxXQUFXO0lBQ3JDLE1BQU1DLFFBQVVULFVBQVVVLFlBQVk7SUFDdEMsTUFBTUMsU0FBVVgsVUFBVVksYUFBYTtJQUN2QyxNQUFNQyxTQUFVYixVQUFVYyxhQUFhO0lBQ3ZDLE1BQU1DLE9BQVVmLFVBQVVnQixjQUFjO0lBQ3hDLE1BQU1DLFFBQVVqQixVQUFVa0IsZUFBZTtJQUV6QyxNQUFNQyxRQUFTWixpQkFBaUJNLFNBQVNMO0lBQ3pDLE1BQU1ZLFFBQVNiLGlCQUFpQlEsT0FBU047SUFDekMsTUFBTVksU0FBU2QsaUJBQWlCVSxRQUFTTjtJQUV6QyxNQUFNVyxRQUFRQyxLQUFLQyxHQUFHLENBQUMsR0FBR0wsUUFBUUMsUUFBUXRCLGFBQWF1QixTQUFTdEI7SUFDaEUsT0FBT3dCLEtBQUtFLEtBQUssQ0FBQ0g7QUFDcEI7QUFFTyxlQUFlSSxhQUFhNUIsVUFBaUIsRUFBRUMsV0FBa0IsRUFBRWpCLEVBQVEsRUFBRTZDLGFBQXNCO0lBQ3hHLE1BQU1DLE9BQU8sTUFBTS9CLFlBQVlDLFlBQVlDLGFBQWFqQjtJQUN4RCxJQUFJLENBQUM2QyxlQUFlLE9BQU9DO0lBQzNCLE1BQU1DLEtBQUssTUFBTWpELDJDQUFNQSxDQUFDa0QsV0FBVyxDQUFDN0IsVUFBVSxDQUFDO1FBQUVDLE9BQU87WUFBRUMsSUFBSXdCO1FBQWM7UUFBR0ksUUFBUTtZQUFFQyxRQUFRO1lBQU1DLFlBQVk7UUFBSztJQUFFO0lBQzFILElBQUksQ0FBQ0osTUFBTSxDQUFDQSxHQUFHRyxNQUFNLEVBQUUsTUFBTSxJQUFJRSxNQUFNO0lBQ3ZDLE1BQU1DLE1BQU1DLE9BQU9QLEdBQUdJLFVBQVUsSUFBSTtJQUNwQyxPQUFPVixLQUFLRSxLQUFLLENBQUNHLE9BQVFPLENBQUFBLE1BQU0sSUFBSUEsTUFBTTtBQUM1QztBQUVPLGVBQWVFO0lBQ3BCLE1BQU1yQyxXQUFXLE1BQU1wQiwyQ0FBTUEsQ0FBQ29CLFFBQVEsQ0FBQ0MsVUFBVSxDQUFDO1FBQUVDLE9BQU87WUFBRUMsSUFBSTtRQUFFO0lBQUU7SUFDckUsT0FBT0g7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovLzk0NC10cmFmaWsvLi9saWIvcHJpY2UudHM/Zjg4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9kYic7XG5cbmZ1bmN0aW9uIGlzSG9saWRheShhdDogRGF0ZSl7XG4gIGNvbnN0IGxpc3QgPSAocHJvY2Vzcy5lbnYuSE9MSURBWVN8fCcnKS5zcGxpdCgnLCcpLm1hcChzPT4gcy50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcbiAgY29uc3QgeW1kID0gYXQudG9JU09TdHJpbmcoKS5zbGljZSgwLDEwKTtcbiAgcmV0dXJuIGxpc3QuaW5jbHVkZXMoeW1kKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXB1dGVCYXNlKGRpc3RhbmNlS206bnVtYmVyLCBkdXJhdGlvbk1pbjpudW1iZXIsIGF0OiBEYXRlKXtcbiAgLy8g2KfZgtix2KMg2YXZhiBTZXR0aW5ncyDYpdmGINmI2Y/YrNiv2Iwg2YjYpdmE2Kcg2KfYs9iq2K7Yr9mFINin2YTZgtmK2YUg2KfZhNin2YHYqtix2KfYttmK2KlcbiAgY29uc3Qgc2V0dGluZ3MgPSBhd2FpdCBwcmlzbWEuc2V0dGluZ3MuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkOiAxIH0gfSkuY2F0Y2goKCk9Pm51bGwpO1xuICBjb25zdCBob3VyID0gYXQuZ2V0SG91cnMoKTtcbiAgY29uc3QgbmlnaHRPckhvbGlkYXkgPSAoaG91ciA8IDYgfHwgaG91ciA+PSAxOCkgfHwgaXNIb2xpZGF5KGF0KTtcblxuICBjb25zdCBkYXlCYXNlID0gc2V0dGluZ3M/LmRheUJhc2UgPz8gNDA7XG4gIGNvbnN0IGRheUttICAgPSBzZXR0aW5ncz8uZGF5UGVyS20gPz8gMTIuNzU7XG4gIGNvbnN0IGRheU1pbiAgPSBzZXR0aW5ncz8uZGF5UGVyTWluID8/IDUuNzU7XG4gIGNvbnN0IG5nQmFzZSAgPSBzZXR0aW5ncz8ubmlnaHRCYXNlID8/IDYwO1xuICBjb25zdCBuZ0ttICAgID0gc2V0dGluZ3M/Lm5pZ2h0UGVyS20gPz8gMTY7XG4gIGNvbnN0IG5nTWluICAgPSBzZXR0aW5ncz8ubmlnaHRQZXJNaW4gPz8gNztcblxuICBjb25zdCBzdGFydCAgPSBuaWdodE9ySG9saWRheSA/IG5nQmFzZSA6IGRheUJhc2U7XG4gIGNvbnN0IHBlckttICA9IG5pZ2h0T3JIb2xpZGF5ID8gbmdLbSAgIDogZGF5S207XG4gIGNvbnN0IHBlck1pbiA9IG5pZ2h0T3JIb2xpZGF5ID8gbmdNaW4gIDogZGF5TWluO1xuXG4gIGNvbnN0IHByaWNlID0gTWF0aC5tYXgoMCwgc3RhcnQgKyBwZXJLbSAqIGRpc3RhbmNlS20gKyBwZXJNaW4gKiBkdXJhdGlvbk1pbik7XG4gIHJldHVybiBNYXRoLnJvdW5kKHByaWNlKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXB1dGVQcmljZShkaXN0YW5jZUttOm51bWJlciwgZHVyYXRpb25NaW46bnVtYmVyLCBhdDogRGF0ZSwgdmVoaWNsZVR5cGVJZD86IG51bWJlcil7XG4gIGNvbnN0IGJhc2UgPSBhd2FpdCBjb21wdXRlQmFzZShkaXN0YW5jZUttLCBkdXJhdGlvbk1pbiwgYXQpO1xuICBpZiAoIXZlaGljbGVUeXBlSWQpIHJldHVybiBiYXNlO1xuICBjb25zdCB2dCA9IGF3YWl0IHByaXNtYS52ZWhpY2xlVHlwZS5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQ6IHZlaGljbGVUeXBlSWQgfSwgc2VsZWN0OiB7IGFjdGl2ZTogdHJ1ZSwgbXVsdGlwbGllcjogdHJ1ZSB9IH0pO1xuICBpZiAoIXZ0IHx8ICF2dC5hY3RpdmUpIHRocm93IG5ldyBFcnJvcignVmVoaWNsZSB0eXBlIG5vdCBhdmFpbGFibGUnKTtcbiAgY29uc3QgbXVsID0gTnVtYmVyKHZ0Lm11bHRpcGxpZXIgfHwgMSk7XG4gIHJldHVybiBNYXRoLnJvdW5kKGJhc2UgKiAobXVsID4gMCA/IG11bCA6IDEpKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNldHRpbmdzRm9yQWRtaW4oKXtcbiAgY29uc3Qgc2V0dGluZ3MgPSBhd2FpdCBwcmlzbWEuc2V0dGluZ3MuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkOiAxIH0gfSk7XG4gIHJldHVybiBzZXR0aW5ncztcbn1cbiJdLCJuYW1lcyI6WyJwcmlzbWEiLCJpc0hvbGlkYXkiLCJhdCIsImxpc3QiLCJwcm9jZXNzIiwiZW52IiwiSE9MSURBWVMiLCJzcGxpdCIsIm1hcCIsInMiLCJ0cmltIiwiZmlsdGVyIiwiQm9vbGVhbiIsInltZCIsInRvSVNPU3RyaW5nIiwic2xpY2UiLCJpbmNsdWRlcyIsImNvbXB1dGVCYXNlIiwiZGlzdGFuY2VLbSIsImR1cmF0aW9uTWluIiwic2V0dGluZ3MiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpZCIsImNhdGNoIiwiaG91ciIsImdldEhvdXJzIiwibmlnaHRPckhvbGlkYXkiLCJkYXlCYXNlIiwiZGF5S20iLCJkYXlQZXJLbSIsImRheU1pbiIsImRheVBlck1pbiIsIm5nQmFzZSIsIm5pZ2h0QmFzZSIsIm5nS20iLCJuaWdodFBlckttIiwibmdNaW4iLCJuaWdodFBlck1pbiIsInN0YXJ0IiwicGVyS20iLCJwZXJNaW4iLCJwcmljZSIsIk1hdGgiLCJtYXgiLCJyb3VuZCIsImNvbXB1dGVQcmljZSIsInZlaGljbGVUeXBlSWQiLCJiYXNlIiwidnQiLCJ2ZWhpY2xlVHlwZSIsInNlbGVjdCIsImFjdGl2ZSIsIm11bHRpcGxpZXIiLCJFcnJvciIsIm11bCIsIk51bWJlciIsImdldFNldHRpbmdzRm9yQWRtaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/price.ts\n");

/***/ }),

/***/ "(rsc)/./lib/rate-limit.ts":
/*!***************************!*\
  !*** ./lib/rate-limit.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clientIpKey: () => (/* binding */ clientIpKey),\n/* harmony export */   limitOrThrow: () => (/* binding */ limitOrThrow)\n/* harmony export */ });\n/* harmony import */ var lru_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lru-cache */ \"(rsc)/./node_modules/lru-cache/dist/esm/index.js\");\n\nconst buckets = new lru_cache__WEBPACK_IMPORTED_MODULE_0__.LRUCache({\n    max: 5000\n});\nasync function limitOrThrow(key, opts) {\n    const now = Date.now();\n    const cur = buckets.get(key);\n    if (!cur || now >= cur.resetAt) {\n        buckets.set(key, {\n            count: 1,\n            resetAt: now + opts.durationSec * 1000\n        });\n        return;\n    }\n    if (cur.count >= opts.points) {\n        const retryAfter = Math.max(1, Math.ceil((cur.resetAt - now) / 1000));\n        const err = new Error(\"Too many requests\");\n        err.status = 429;\n        err.retryAfter = retryAfter;\n        throw err;\n    }\n    cur.count += 1;\n    buckets.set(key, cur);\n}\nfunction clientIpKey(req) {\n    const h = (req.headers.get(\"x-forwarded-for\") || req.headers.get(\"cf-connecting-ip\") || \"local\").split(\",\")[0].trim();\n    return h || \"local\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcmF0ZS1saW1pdC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFPckMsTUFBTUMsVUFBVSxJQUFJRCwrQ0FBUUEsQ0FBNkM7SUFBRUUsS0FBSztBQUFLO0FBRTlFLGVBQWVDLGFBQWFDLEdBQVcsRUFBRUMsSUFBVTtJQUN4RCxNQUFNQyxNQUFNQyxLQUFLRCxHQUFHO0lBQ3BCLE1BQU1FLE1BQU1QLFFBQVFRLEdBQUcsQ0FBQ0w7SUFDeEIsSUFBSSxDQUFDSSxPQUFPRixPQUFPRSxJQUFJRSxPQUFPLEVBQUM7UUFDN0JULFFBQVFVLEdBQUcsQ0FBQ1AsS0FBSztZQUFFUSxPQUFPO1lBQUdGLFNBQVNKLE1BQU1ELEtBQUtRLFdBQVcsR0FBRztRQUFLO1FBQ3BFO0lBQ0Y7SUFDQSxJQUFJTCxJQUFJSSxLQUFLLElBQUlQLEtBQUtTLE1BQU0sRUFBQztRQUMzQixNQUFNQyxhQUFhQyxLQUFLZCxHQUFHLENBQUMsR0FBR2MsS0FBS0MsSUFBSSxDQUFDLENBQUNULElBQUlFLE9BQU8sR0FBR0osR0FBRSxJQUFHO1FBQzdELE1BQU1ZLE1BQVcsSUFBSUMsTUFBTTtRQUMzQkQsSUFBSUUsTUFBTSxHQUFHO1FBQUtGLElBQUlILFVBQVUsR0FBR0E7UUFDbkMsTUFBTUc7SUFDUjtJQUNBVixJQUFJSSxLQUFLLElBQUk7SUFBR1gsUUFBUVUsR0FBRyxDQUFDUCxLQUFLSTtBQUNuQztBQUVPLFNBQVNhLFlBQVlDLEdBQVk7SUFDdEMsTUFBTUMsSUFBSSxDQUFDRCxJQUFJRSxPQUFPLENBQUNmLEdBQUcsQ0FBQyxzQkFBc0JhLElBQUlFLE9BQU8sQ0FBQ2YsR0FBRyxDQUFDLHVCQUF1QixPQUFNLEVBQUdnQixLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQ0MsSUFBSTtJQUNuSCxPQUFPSCxLQUFLO0FBQ2QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly85NDQtdHJhZmlrLy4vbGliL3JhdGUtbGltaXQudHM/MjJjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMUlVDYWNoZSB9IGZyb20gJ2xydS1jYWNoZSc7XG5cbi8vIFZlcnkgc2ltcGxlIGluLW1lbW9yeSByYXRlIGxpbWl0ZXIgKHBlci1wcm9jZXNzKS4gRm9yIHByb2R1Y3Rpb24sIGJhY2sgd2l0aCBSZWRpcy5cbi8vIFVzYWdlOiBhd2FpdCBsaW1pdE9yVGhyb3coa2V5LCB7IHBvaW50czo1LCBkdXJhdGlvblNlYzo2MCB9KVxuXG50eXBlIE9wdHMgPSB7IHBvaW50czogbnVtYmVyOyBkdXJhdGlvblNlYzogbnVtYmVyIH07XG5cbmNvbnN0IGJ1Y2tldHMgPSBuZXcgTFJVQ2FjaGU8c3RyaW5nLCB7IGNvdW50OiBudW1iZXI7IHJlc2V0QXQ6IG51bWJlciB9Pih7IG1heDogNTAwMCB9KTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpbWl0T3JUaHJvdyhrZXk6IHN0cmluZywgb3B0czogT3B0cyl7XG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIGNvbnN0IGN1ciA9IGJ1Y2tldHMuZ2V0KGtleSk7XG4gIGlmICghY3VyIHx8IG5vdyA+PSBjdXIucmVzZXRBdCl7XG4gICAgYnVja2V0cy5zZXQoa2V5LCB7IGNvdW50OiAxLCByZXNldEF0OiBub3cgKyBvcHRzLmR1cmF0aW9uU2VjICogMTAwMCB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGN1ci5jb3VudCA+PSBvcHRzLnBvaW50cyl7XG4gICAgY29uc3QgcmV0cnlBZnRlciA9IE1hdGgubWF4KDEsIE1hdGguY2VpbCgoY3VyLnJlc2V0QXQgLSBub3cpLzEwMDApKTtcbiAgICBjb25zdCBlcnI6IGFueSA9IG5ldyBFcnJvcignVG9vIG1hbnkgcmVxdWVzdHMnKTtcbiAgICBlcnIuc3RhdHVzID0gNDI5OyBlcnIucmV0cnlBZnRlciA9IHJldHJ5QWZ0ZXI7XG4gICAgdGhyb3cgZXJyO1xuICB9XG4gIGN1ci5jb3VudCArPSAxOyBidWNrZXRzLnNldChrZXksIGN1cik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGllbnRJcEtleShyZXE6IFJlcXVlc3Qpe1xuICBjb25zdCBoID0gKHJlcS5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJykgfHwgcmVxLmhlYWRlcnMuZ2V0KCdjZi1jb25uZWN0aW5nLWlwJykgfHwgJ2xvY2FsJykuc3BsaXQoJywnKVswXS50cmltKCk7XG4gIHJldHVybiBoIHx8ICdsb2NhbCc7XG59XG4iXSwibmFtZXMiOlsiTFJVQ2FjaGUiLCJidWNrZXRzIiwibWF4IiwibGltaXRPclRocm93Iiwia2V5Iiwib3B0cyIsIm5vdyIsIkRhdGUiLCJjdXIiLCJnZXQiLCJyZXNldEF0Iiwic2V0IiwiY291bnQiLCJkdXJhdGlvblNlYyIsInBvaW50cyIsInJldHJ5QWZ0ZXIiLCJNYXRoIiwiY2VpbCIsImVyciIsIkVycm9yIiwic3RhdHVzIiwiY2xpZW50SXBLZXkiLCJyZXEiLCJoIiwiaGVhZGVycyIsInNwbGl0IiwidHJpbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/rate-limit.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod","vendor-chunks/lru-cache"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fquote%2Froute&page=%2Fapi%2Fquote%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fquote%2Froute.ts&appDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944-TrafikTaxa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmoses%5CProjects%5CWebsites%5C944-TrafikTaxa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();